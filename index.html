<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>محلل الشارت - مثال محلي</title>

  <style>
    :root { color-scheme: dark; }
    body { margin:0; font-family:system-ui, -apple-system, "Segoe UI", Roboto, Arial; background:#0f1115; color:#eaeaea; }
    header{padding:10px; display:flex; gap:8px; align-items:center; background:#0b0d10; border-bottom:1px solid #222;}
    button{background:#1a1d24;color:#eaeaea;border:1px solid #2a2f3a;padding:8px 10px;border-radius:8px;cursor:pointer;}
    #container{display:flex; gap:12px; padding:12px;}
    #left{flex:2;}
    #right{flex:1; max-width:420px;}
    #chart{height:60vh; min-height:320px; background:#0f1115; border:1px solid #222;}
    textarea{width:100%; min-height:220px; background:#0c0e13; color:#d7e0ff; border:1px solid #2a2f3a; border-radius:8px; padding:8px; resize:vertical;}
    .hint{font-size:13px;color:#9aa4bd;margin-top:6px;}
  </style>
</head>
<body>
  <header>
    <strong>محلل الشارت — مثال محلي (بدون CDN)</strong>
    <div style="margin-inline-start:auto;display:flex;gap:8px;">
      <button id="btnSample">تحميل عيّنة</button>
      <button id="btnPaste">تحميل من الأسفل</button>
      <button id="btnClear">مسح الشارت</button>
    </div>
  </header>

  <div id="container">
    <div id="left">
      <div id="chart"></div>
    </div>
    <div id="right">
      <div class="pill">ألصق CSV هنا (time,open,high,low,close,volume)</div>
      <textarea id="input" placeholder="الصق CSV أو جدول هنا:&#10;time,open,high,low,close,volume&#10;2025-09-05,1965.2,1972.5,1960.1,1968.3,12000"></textarea>
      <div class="hint">مثال مع تواريخ: YYYY-MM-DD أو ISO (سيُحوّل تلقائياً).</div>
    </div>
  </div>

  <!-- هنا نحمّل الملف المحلي للمكتبة (يجب أن يكون موجود في نفس المجلد) -->
  <script src="lightweight-charts.standalone.production.js"></script>
  <!-- سكربت التطبيق الخاص بك -->
  <script src="app.js"></script>
</body>
</html>
